language: csharp
solution: SimpleApp.sln
msbuild: 15.5.180
mono: 5.0.0
dotnet: 2.0.0

install:
  - nuget restore SimpleApp.sln
  - nuget install xunit.runner.console -Version 2.3.1 -OutputDirectory testrunner
  - dotnet restore

script:
  - echo "--------"
#  - dotnet test ./StandartClassLibrary --configuration Release --framework netcoreapp2.0
#  - dotnet test ./StandartClassLibrary --configuration Release --framework net452
#  - dotnet build --configuration Release --framework netcoreapp2.0
  
  - msbuild /p:Configuration=Release /p:targetframework=net40 SimpleApp   # output: Release/net40
  - dotnet test SomeTests --framework netcoreapp2.0 --configuration Release
  - dotnet ./testrunner/xunit.runner.console.2.3.1/tools/netcoreapp2.0/xunit.console.dll ./SomeTests/bin/Release/netcoreapp2.0/SomeTests.dll
  #- dotnet msbuild SomeTests
